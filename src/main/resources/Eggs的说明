如何找到状态转移方程式？

在上一篇漫画中，两个鸡蛋100层楼的条件下，我们找到了一个规律：

假设存在最优解，在最坏情况下尝试次数是 X，那么第一个鸡蛋首次扔出的楼层也是 X 。




这个规律在三个以上鸡蛋的条件上还能否适用呢？让我们来举个栗子：

假设有三个鸡蛋，100层楼，第一个鸡蛋扔在第10层并摔碎了。这时候我们还剩下两个鸡蛋，因此第二个鸡蛋不必从底向上一层一层扔，而是可以选择在第5层扔。如果第二个鸡蛋也摔碎了，那么第三个鸡蛋才需要老老实实从第1层开始一层一层扔。




这样一来，总的尝试次数是1+1+4 = 6 < 10。

因此，最优解的最坏情况下尝试次数是 X，鸡蛋首次扔出的楼层也是 X 这个规律不再成立。

那么，我们该怎么寻找规律呢？

我们可以把M层楼 / N个鸡蛋的问题转化成一个函数 F（M，N），其中楼层数M和鸡蛋数N是函数的两个参数，而函数的值则是最优解的最大尝试次数。

假设我们第一个鸡蛋扔出的位置在第X层（1<=X<=M），会出现两种情况：



我们可以把M层楼 / N个鸡蛋的问题转化成一个函数 F（M，N），其中楼层数M和鸡蛋数N是函数的两个参数，而函数的值则是最优解的最大尝试次数。

假设我们第一个鸡蛋扔出的位置在第X层（1<=X<=M），会出现两种情况：

1.第一个鸡蛋没碎
那么剩余的M-X层楼，剩余N个鸡蛋，可以转变为下面的函数：
 F（M-X，N）+ 1，1<=X<=M

2.第一个鸡蛋碎了
那么只剩下从1层到X-1层楼需要尝试，剩余的鸡蛋数量是N-1，可以转变为下面的函数：
F（X-1，N-1） + 1，1<=X<=M

整体而言，我们要求出的是 M层楼 / N个鸡蛋 条件下，最大尝试次数最小的解，所以这个题目的状态转移方程式如下：

 F（M，N）= Min（Max（ F（M-X，N）+ 1， F（X-1，N-1） + 1）），1<=X<=M